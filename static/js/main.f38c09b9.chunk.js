(this.webpackJsonppeople=this.webpackJsonppeople||[]).push([[0],{76:function(e,n,t){},82:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),r=t(13),c=t.n(r),s=t(20),i=t(21),d=t(17),l=t(25),u=t(23),j=t(16),b="ADD_PERSON",p="DELETE_PERSON",h="UPDATE_PERSON",O="GET_PERSON",g="GET_PEOPLE",x=t(18),f=t.n(x),m=t(10),v=function(){return function(e){f.a.get("https://crud-person-node.herokuapp.com/persons").then((function(n){e({type:g,payload:n.data})})).catch((function(e){return console.error(e)}))}},C=t(9),y=t(43),P=t(19),_=t(24),S=(t(76),t(41)),E=t.n(S),D=t(2),w=function(e){Object(l.a)(t,e);var n=Object(u.a)(t);function t(){var e;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=n.call.apply(n,[this].concat(a))).updateProfession=function(n,t){console.log("Calling Update Person with value:",t),e.props.updatePerson(Object(d.a)(e),{pId:n,profession:t})},e.renderCard=function(n){return Object(D.jsxs)(C.a,{className:"displayPerson mb-2 ml-2 p-3",bg:"light",text:"dark",id:"".concat(n._id),border:"info",children:[Object(D.jsxs)(C.a.Header,{as:"h5",id:"".concat(n._id,"_").concat(n.name),children:[n.name," ",Object(D.jsx)(_.a,{variant:"outline",className:"deleteButton p-0",onClick:e.props.deletePerson.bind(Object(d.a)(e),n._id),children:"\ud83d\uddd1\ufe0f"})]}),Object(D.jsxs)(C.a.Body,{children:[Object(D.jsx)(C.a.Title,{id:"".concat(n._id,"_").concat(n.about,"}"),children:n.about}),Object(D.jsx)(C.a.Text,{id:"".concat(n._id)})]}),Object(D.jsxs)(P.a,{className:"list-group-flush",children:[Object(D.jsxs)(P.a.Item,{id:"".concat(n._id,"_").concat(n.languages),children:[Object(D.jsx)("b",{children:"Understands: "}),n.languages.join(", ")]},"".concat(n._id,"_").concat(n.languages)),Object(D.jsxs)(P.a.Item,{id:"".concat(n._id,"_").concat(n.dob),children:[Object(D.jsx)("b",{children:"Born On: "}),new Date(n.dob).toDateString()]},"".concat(n._id,"_").concat(n.dob)),Object(D.jsxs)(P.a.Item,{id:"".concat(n._id,"_").concat(n.profession),children:[Object(D.jsx)("b",{children:"Profession: "}),Object(D.jsx)(E.a,{type:"textfield",mode:"inline",initialValue:n.profession,editText:"\u270f\ufe0f",onSubmit:function(t){return e.props.updatePerson(n._id,t)}})]},"".concat(n._id,"_").concat(n.profession))]})]},"".concat(n._id))},e.displayPeopleCards=function(){return Object.values(e.props.persons).map((function(n,t){return console.debug("INDEX:",n.name,t),e.renderCard(n)}))},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){document.title="CRUD",this.props.fetchPersons()}},{key:"render",value:function(){return Object(D.jsxs)("div",{className:"container",children:[Object(D.jsx)("h2",{children:"Exisiting People in Database"}),Object(D.jsx)(y.a,{children:this.displayPeopleCards()})]})}}]),t}(a.a.Component),N=Object(j.b)((function(e){return{persons:e.people.persons}}),{fetchPersons:v,deletePerson:function(e){return function(n){console.log("Triggering delete on",e),f.a.delete("https://crud-person-node.herokuapp.com/persons/".concat(e)).then((function(t){n({type:p,payload:t.data}),m.b.error("Deleted ".concat(e," from DataBase")),n(v())})).catch((function(e){console.error(e),m.b.error("Error while deleting person: ".concat(e))}))}},updatePerson:function(e,n){return function(t){console.log("Data:",e,n),console.log("Triggering update on",e),f.a.patch("https://crud-person-node.herokuapp.com/persons/".concat(e),{profession:n}).then((function(e){t({type:h,payload:e.data}),m.b.success("Profession changed to ".concat(n))})).catch((function(e){console.error(e),m.b.error("Error while updating person: ".concat(e))}))}}})(w),I=t(22),k=t(6),T=t(87),L=t(44),B=function(e){Object(l.a)(t,e);var n=Object(u.a)(t);function t(e){var o;return Object(s.a)(this,t),(o=n.call(this,e)).onChange=function(e){console.debug(e.target.id),o.setState(Object(I.a)({},e.target.id,e.target.value)),console.debug("this.state",o.state,o.state.name)},o.onSubmit=function(e){e.preventDefault(),console.debug("Submit"),console.debug(o.state);var n=o.state;"Single"==n.maritalStatus?(console.log("Single => Set False"),n.married=!1):(console.log("Married => Set True"),n.married=!0),o.props.addPerson(n)},o.addPersonForm=function(){var e=o.state,n=e.name,t=e.dob,a=e.address,r=e.profession,c=e.maritalStatus,s=e.languages,i=e.about;return Object(D.jsx)(C.a,{children:Object(D.jsx)(C.a.Body,{children:Object(D.jsx)(T.a,{children:Object(D.jsxs)(k.a,{onSubmit:o.onSubmit,children:[Object(D.jsxs)(k.a.Row,{children:[Object(D.jsxs)(k.a.Group,{as:L.a,controlId:"name",children:[Object(D.jsx)(k.a.Label,{children:"Name"}),Object(D.jsx)(k.a.Control,{type:"text",placeholder:"Enter your Name",required:!0,onChange:o.onChange,value:n})]}),Object(D.jsxs)(k.a.Group,{as:L.a,controlId:"dob",children:[Object(D.jsx)(k.a.Label,{children:"Date of Birth"}),Object(D.jsx)(k.a.Control,{type:"date",placeholder:"Date of Birth",required:!0,value:t,onChange:o.onChange})]})]}),Object(D.jsxs)(k.a.Row,{children:[Object(D.jsxs)(k.a.Group,{as:L.a,controlId:"profession",children:[Object(D.jsx)(k.a.Label,{children:"Profession"}),Object(D.jsx)(k.a.Control,{onChange:o.onChange,value:r})]}),Object(D.jsxs)(k.a.Group,{as:L.a,controlId:"maritalStatus",children:[Object(D.jsx)(k.a.Label,{children:"Marital Status"}),Object(D.jsxs)(k.a.Control,{as:"select",onChange:o.onChange,value:c,children:[Object(D.jsx)("option",{children:"Single"}),Object(D.jsx)("option",{children:"Married"})]})]})]}),Object(D.jsxs)(k.a.Group,{controlId:"address",children:[Object(D.jsx)(k.a.Label,{children:"Address"}),Object(D.jsx)(k.a.Control,{placeholder:"1234 Main St",value:a,onChange:o.onChange})]}),Object(D.jsxs)(k.a.Group,{controlId:"languages",children:[Object(D.jsx)(k.a.Label,{children:"Languages"}),Object(D.jsx)(k.a.Control,{onChange:o.onChange,value:s})]}),Object(D.jsxs)(k.a.Group,{controlId:"about",children:[Object(D.jsx)(k.a.Label,{children:"About"}),Object(D.jsx)(k.a.Control,{placeholder:"Write something about yourself...",onChange:o.onChange,value:i})]}),Object(D.jsx)(_.a,{variant:"primary",type:"submit",children:"Submit"})]})})})})},o.state={name:"",dob:"",address:"New Delhi, India",profession:"Software Engineer",maritalStatus:!1,languages:"English, Hindi, Python",about:"About me"},o}return Object(i.a)(t,[{key:"render",value:function(){return Object(D.jsxs)("div",{className:"container",children:[Object(D.jsx)("h2",{children:"Add New Person to Database"}),this.addPersonForm()]})}}]),t}(a.a.Component),A=Object(j.b)((function(e){return{}}),{addPerson:function(e){return function(n){console.log(e),f.a.post("https://crud-person-node.herokuapp.com/persons",e).then((function(t){n({type:b,payload:t.data}),m.b.dark("Added ".concat(e.name," to DataBase")),n(v())})).catch((function(e){console.error(e),m.b.error("Error while adding person: ".concat(e))}))}}})(B);t(79),t(80);function G(){return Object(D.jsxs)("div",{className:"App",children:[Object(D.jsx)(m.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(D.jsx)("br",{}),Object(D.jsx)(A,{}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)(N,{})]})}var R=t(11),M=t(45),F=t(46),U=t(12),H={persons:[]},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case O:return Object(U.a)({},e);case g:return Object(U.a)(Object(U.a)({},e),{},{persons:n.payload});case b:return console.debug("add person:",n.payload),Object(U.a)({},e);case h:case p:default:return Object(U.a)({},e)}},J=Object(R.combineReducers)({people:q}),W=[F.a],V=Object(R.createStore)(J,{},Object(M.composeWithDevTools)(R.applyMiddleware.apply(void 0,W))),X=document.getElementById("root");c.a.render(Object(D.jsx)(j.a,{store:V,children:Object(D.jsx)(G,{})}),X)}},[[82,1,2]]]);
//# sourceMappingURL=main.f38c09b9.chunk.js.map