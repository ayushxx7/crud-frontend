(this.webpackJsonppeople=this.webpackJsonppeople||[]).push([[0],{76:function(e,n,t){},82:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),r=t(13),c=t.n(r),s=t(19),i=t(20),d=t(21),l=t(25),u=t(23),b=t(16),j="ADD_PERSON",p="DELETE_PERSON",h="UPDATE_PERSON",O="GET_PERSON",g="GET_PEOPLE",x=t(17),f=t.n(x),m=t(11),v=function(){return function(e){f.a.get("https://crud-person-node.herokuapp.com/persons").then((function(n){e({type:g,payload:n.data})})).catch((function(e){return console.error(e)}))}},y=t(10),C=t(43),P=t(18),_=t(24),S=t(41),D=t.n(S),E=(t(76),t(2)),w=function(e){Object(l.a)(t,e);var n=Object(u.a)(t);function t(){var e;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=n.call.apply(n,[this].concat(a))).renderCard=function(n){return Object(E.jsxs)(y.a,{className:"displayPerson mb-2 ml-2 p-3",bg:"light",text:"dark",id:"".concat(n._id),border:"info",children:[Object(E.jsxs)(y.a.Header,{as:"h5",id:"".concat(n._id,"_").concat(n.name),children:[n.name," ",Object(E.jsx)(_.a,{variant:"outline",className:"deleteButton p-0",onClick:e.props.deletePerson.bind(Object(d.a)(e),n._id),children:"\ud83d\uddd1\ufe0f"})]}),Object(E.jsxs)(y.a.Body,{children:[Object(E.jsx)(y.a.Title,{id:"".concat(n._id,"_").concat(n.about,"}"),children:n.about}),Object(E.jsx)(y.a.Text,{id:"".concat(n._id)})]}),Object(E.jsxs)(P.a,{className:"list-group-flush",children:[Object(E.jsxs)(P.a.Item,{id:"".concat(n._id,"_").concat(n.languages),children:[Object(E.jsx)("b",{children:"Understands: "}),n.languages.join(", ")]},"".concat(n._id,"_").concat(n.languages)),Object(E.jsxs)(P.a.Item,{id:"".concat(n._id,"_").concat(n.dob),children:[Object(E.jsx)("b",{children:"Born On: "}),new Date(n.dob).toDateString()]},"".concat(n._id,"_").concat(n.dob)),Object(E.jsxs)(P.a.Item,{id:"".concat(n._id,"_").concat(n.profession),children:[Object(E.jsx)("b",{children:"Profession: "}),Object(E.jsx)(D.a,{type:"textfield",mode:"inline",initialValue:n.profession,editText:"\u270f\ufe0f",onSubmit:function(t){return e.props.updatePerson(n._id,t)}})]},"".concat(n._id,"_").concat(n.profession))]})]},"".concat(n._id))},e.displayPeopleCards=function(){return Object.values(e.props.persons).map((function(n,t){return console.debug("INDEX:",n.name,t),e.renderCard(n)}))},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){document.title="CRUD",this.props.fetchPersons()}},{key:"render",value:function(){return Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("h2",{children:"Exisiting People in Database"}),Object(E.jsx)(C.a,{children:this.displayPeopleCards()})]})}}]),t}(a.a.Component),N=Object(b.b)((function(e){return{persons:e.people.persons}}),{fetchPersons:v,deletePerson:function(e){return function(n){console.debug("Triggering delete on",e),f.a.delete("https://crud-person-node.herokuapp.com/persons/".concat(e)).then((function(){n({type:p,payload:e}),m.b.error("Deleted ".concat(e," from DataBase"))})).catch((function(e){console.error(e),m.b.error("Error while deleting person: ".concat(e))}))}},updatePerson:function(e,n){return function(t){console.debug("Data:",e,n),console.debug("Triggering update on",e),f.a.patch("https://crud-person-node.herokuapp.com/persons/".concat(e),{profession:n}).then((function(e){t({type:h,payload:e.data}),m.b.success("Profession changed to ".concat(n))})).catch((function(e){console.error(e),m.b.error("Error while updating person: ".concat(e))}))}}})(w),k=t(22),I=t(6),T=t(87),L=t(44),B=function(e){Object(l.a)(t,e);var n=Object(u.a)(t);function t(e){var o;return Object(s.a)(this,t),(o=n.call(this,e)).onChange=function(e){console.debug(e.target.id),o.setState(Object(k.a)({},e.target.id,e.target.value)),console.debug("this.state",o.state,o.state.name)},o.onSubmit=function(e){e.preventDefault(),console.debug("Submit"),console.debug(o.state);var n=o.state;"Single"==n.maritalStatus?(console.debug("Single => Set False"),n.married=!1):(console.debug("Married => Set True"),n.married=!0),o.props.addPerson(n)},o.addPersonForm=function(){var e=o.state,n=e.name,t=e.dob,a=e.address,r=e.profession,c=e.maritalStatus,s=e.languages,i=e.about;return Object(E.jsx)(y.a,{children:Object(E.jsx)(y.a.Body,{children:Object(E.jsx)(T.a,{children:Object(E.jsxs)(I.a,{onSubmit:o.onSubmit,children:[Object(E.jsxs)(I.a.Row,{children:[Object(E.jsxs)(I.a.Group,{as:L.a,controlId:"name",children:[Object(E.jsx)(I.a.Label,{children:"Name"}),Object(E.jsx)(I.a.Control,{type:"text",placeholder:"Enter your Name",required:!0,onChange:o.onChange,value:n})]}),Object(E.jsxs)(I.a.Group,{as:L.a,controlId:"dob",children:[Object(E.jsx)(I.a.Label,{children:"Date of Birth"}),Object(E.jsx)(I.a.Control,{type:"date",placeholder:"Date of Birth",required:!0,value:t,onChange:o.onChange,max:o.getCurrentDate()})]})]}),Object(E.jsxs)(I.a.Row,{children:[Object(E.jsxs)(I.a.Group,{as:L.a,controlId:"profession",children:[Object(E.jsx)(I.a.Label,{children:"Profession"}),Object(E.jsx)(I.a.Control,{onChange:o.onChange,value:r})]}),Object(E.jsxs)(I.a.Group,{as:L.a,controlId:"maritalStatus",children:[Object(E.jsx)(I.a.Label,{children:"Marital Status"}),Object(E.jsxs)(I.a.Control,{as:"select",onChange:o.onChange,value:c,children:[Object(E.jsx)("option",{children:"Single"}),Object(E.jsx)("option",{children:"Married"})]})]})]}),Object(E.jsxs)(I.a.Group,{controlId:"address",children:[Object(E.jsx)(I.a.Label,{children:"Address"}),Object(E.jsx)(I.a.Control,{placeholder:"1234 Main St",value:a,onChange:o.onChange})]}),Object(E.jsxs)(I.a.Group,{controlId:"languages",children:[Object(E.jsx)(I.a.Label,{children:"Languages"}),Object(E.jsx)(I.a.Control,{onChange:o.onChange,value:s})]}),Object(E.jsxs)(I.a.Group,{controlId:"about",children:[Object(E.jsx)(I.a.Label,{children:"About"}),Object(E.jsx)(I.a.Control,{placeholder:"Write something about yourself...",onChange:o.onChange,value:i})]}),Object(E.jsx)(_.a,{variant:"primary",type:"submit",children:"Submit"})]})})})})},o.state={name:"",dob:"",address:"New Delhi, India",profession:"Software Engineer",maritalStatus:!1,languages:"English, Hindi, Python",about:"About me"},o}return Object(i.a)(t,[{key:"getCurrentDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-",n=new Date,t=n.getDate(),o=n.getMonth()+1,a=n.getFullYear();return"".concat(a).concat(e).concat(o<10?"0".concat(o):"".concat(o)).concat(e).concat(t<10?"0".concat(t):"".concat(t))}},{key:"render",value:function(){return Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("h2",{children:"Add New Person to Database"}),this.addPersonForm()]})}}]),t}(a.a.Component),A=Object(b.b)((function(e){return{persons:e.people.persons}}),{addPerson:function(e){return function(n){console.debug(e),f.a.post("https://crud-person-node.herokuapp.com/persons",e).then((function(t){n({type:j,payload:t.data.Person}),m.b.dark("Added ".concat(e.name," to DataBase")),n(v())})).catch((function(e){console.error(e),m.b.error("Error while adding person: ".concat(e))}))}}})(B);t(79),t(80);function G(){return Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)(m.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(E.jsx)("br",{}),Object(E.jsx)(A,{}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)(N,{})]})}var R=t(12),M=t(45),F=t(46),H=t(9),U={persons:[]},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case O:return Object(H.a)({},e);case g:return Object(H.a)(Object(H.a)({},e),{},{persons:n.payload});case j:return console.debug("add person:",n.payload),e.persons.push(n.payload),Object(H.a)(Object(H.a)({},e),{},{persons:e.persons});case h:return Object(H.a)({},e);case p:return console.debug(n.payload),console.debug("sp",e.persons),Object(H.a)(Object(H.a)({},e),{},{persons:e.persons.filter((function(e){return e._id!=n.payload}))});default:return Object(H.a)({},e)}},J=Object(R.combineReducers)({people:q}),W=[F.a],V=Object(R.createStore)(J,{},Object(M.composeWithDevTools)(R.applyMiddleware.apply(void 0,W))),X=document.getElementById("root");c.a.render(Object(E.jsx)(b.a,{store:V,children:Object(E.jsx)(G,{})}),X)}},[[82,1,2]]]);
//# sourceMappingURL=main.6f0e42dc.chunk.js.map